iOS:
2018-03-20 17:06:24.132465+0800 小泡[14368:10380986] -[WCXMPPTool xmppStream:didReceivePresence:] 2891
 <presence xmlns="jabber:client" 
 to="518936@im.deve.xiaopao69.com/Spark" 
 from="rs8888_1519043337505@conference.im.xiaopao69.com/518936"
  type="error">
  <error code="404" type="cancel">
  <remote-server-not-found xmlns="urn:ietf:params:xml:ns:xmpp-stanzas"/>
  </error>
</presence>

bb:
2018/03/18 17:06:11 [schedulerFactoryBean_Worker-6] StatFilter 465 internalAfterStatementExecute - slow sql 1039 millis.

10:54:13 [schedulerFactoryBean_Worker-3] com.red.uitl.HttpUtil.postMethodUrl(HttpUtil.java:243)evel
HttpUtil - org.apache.http.conn.ConnectTimeoutException: Connect to www.xiaopao69.com:443 [www.xiaopao69.com/47.52.167.100] failed: Read timed out

"POST /plugins/restapi/v1/rong/findRongToken HTTP/1.1" 404 0 "-" "xiao pao/1.10 (iPhone; iOS 11.2; Scale/3.00)" "-"

http://app.deve.xiaopao69.com/account/api/user/v1/gamelist.html,  500


"POST /account/api/user/v1/slelectTokenByUser.html HTTP/1.1" 500 19249 "-" "xiao pao/1.10 (iPhone; iOS 11.2.2; Scale/2.00)" "-"



新建了一个群，发现通讯贼不通畅！强烈怀疑使用了阉割版本的XMPP！
新旧版本的群|房间 数据结构上的差异有么？

2018.03.25 04:48:27 org.apache.mina.core.filterchain.IoFilterEvent - Event MESSAGE_RECEIVED has been fired for session 14
2018.03.25 04:48:27 org.jivesoftware.util.log.util.CommonsLogFactory - dev-9 create a new socket.
2018.03.25 04:48:28 org.jivesoftware.util.log.util.CommonsLogFactory - dev-9 Send success. count: 1, notificaion: id=109 token=2c26321cd414a9860395ac5b43106e0d72a798e1f3bd53c631dd5f3445dfd807 payload={"jid":"518936@im.xiaopao69.com\/Spark","aps":{"badge":4,"alert":"test00:6677","sound":"default"}}
2018.03.25 04:48:28 org.jivesoftware.util.log.util.CommonsLogFactory - dev-9 Received error response. status: 8, id: 109, error-desc: Invalid token
2018.03.25 04:48:34 org.apache.mina.filter.executor.OrderedThreadPoolExecutor - Adding event SESSION_OPENED to session 22


Caused by: java.lang.NoClassDefFoundError: com/google/gson/GsonBuilder
	at com.rong.util.GsonUtil.<clinit>(GsonUtil.java:11)
	at com.rong.methods.User.getToken(User.java:62)
	at org.jivesoftware.openfire.plugin.rest.service.RongCloudService.findRongToken(RongCloudService.java:103)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.sun.jersey.spi.container.JavaMethodInvokerFactory$1.invoke(JavaMethodInvokerFactory.java:60)
	at com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$TypeOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:185)
	at com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)
	at com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:302)
	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
	at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)
	at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
	at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)
	at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1542)
	at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1473)
	at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1419)
	at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1409)
	at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:409)
	... 33 more
Caused by: java.lang.ClassNotFoundException: com.google.gson.GsonBuilder
	at java.net.URLClassLoader.findClass(URLClassLoader.java:381)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:424)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	... 53 more


 java.lang.NullPointerException
	at com.doowal.account.service.impl.RedPackServiceImpl.redPackRecordV1(RedPackServiceImpl.java:511)
	at sun.reflect.GeneratedMethodAccessor136.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)
	at com.sun.proxy.$Proxy50.redPackRecordV1(Unknown Source)
	at com.doowal.account.api.controller.RedPackController.redPackRcharge(RedPackController.java:78)
